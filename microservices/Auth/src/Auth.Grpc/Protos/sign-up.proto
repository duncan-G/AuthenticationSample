syntax = "proto3";

import "google/protobuf/empty.proto";

option csharp_namespace = "AuthSample.Auth.Grpc.Protos";

package auth;

service SignUpManager {
  rpc InitiateSignUpAsync (InitiateSignUpRequest) returns (google.protobuf.Empty);

  rpc VerifyAndSignUpAsync (VerifyAndSignUpRequest) returns (google.protobuf.Empty);

  rpc IsEmailTakenAsync (IsEmailTakenRequest) returns (IsEmailTakenReply);
}

// The request message containing the user's name.
message InitiateSignUpRequest {
  string email_address = 1;
  optional string password = 2;
}

message VerifyAndSignUpRequest {
  string email_address = 1;
  string name = 3;
  string verification_code = 2;
}

message IsEmailTakenRequest {
  string email_address = 1;
}

message IsEmailTakenReply {
  bool taken = 1;
}
